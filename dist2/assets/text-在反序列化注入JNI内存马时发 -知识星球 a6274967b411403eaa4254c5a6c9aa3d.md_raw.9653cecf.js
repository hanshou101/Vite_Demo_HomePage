const a=`# \u5728\u53CD\u5E8F\u5217\u5316\u6CE8\u5165JNI\u5185\u5B58\u9A6C\u65F6\u53D1...-\u77E5\u8BC6\u661F\u7403

Created: March 22, 2025 6:03 PM
URL: https://wx.zsxq.com/group/2212251881/topic/8858141521118142
\u6587\u7AE0\u4E8C\u7EA7\u7C7B\u522B: 0Day\u6316\u6398-\u6CE8\u610F\u56FE\u7247\u624B\u52A8\u62D6\u8FDB\u6765
\u6587\u7AE0\u7C7B\u522B(\u6839\u636EWebStorm\u7684\u76EE\u5F55\u6765): \u4EE3\u7801\u5BA1\u8BA1

\u5728\u53CD\u5E8F\u5217\u5316\u6CE8\u5165JNI\u5185\u5B58\u9A6C\u65F6\u53D1\u73B0\uFF0C\u5728Tomcat\u4E0B\uFF0C\u5982\u679C\u6BCF\u6B21\u90FD\u6253\u4E00\u4E2ATemplatesImpl\u7C7B\u8FDB\u53BB\uFF0C\u90A3\u4E48\u6BCF\u6B21\u90FD\u4F1Anew\u4E00\u4E2ATemplatesImpl\uFF0C\u800CTomcat\u4E0B\u52A0\u8F7DTemplatesImpl\u7C7B\u7528\u7684\u662FTemplatesImpl$TransletClassLoader\uFF0C\u90A3\u4E48\u6BCF\u6B21\u8BF7\u6C42\u5BF9\u5E94\u7684ClassLoader\u90FD\u4E0D\u4E00\u6837\u3002\u53C8\u56E0\u4E3A\u52A0\u8F7D\u7684\u52A8\u6001\u94FE\u63A5\u5E93\u662F\u901A\u8FC7ClassLoader\u53BB\u52A0\u8F7D\u7684\uFF0C\u5BFC\u81F4\u9664\u4E86\u7B2C\u4E00\u6B21\u6253\u8FDB\u53BB\u7684ClassLoader\u80FD\u7528native\u51FD\u6570\uFF0C\u540E\u7EED\u6240\u6709\u8BF7\u6C42\u90FD\u4F1A\u62A5UnsatisfiedLinkError\u9519\u8BEF \u800C\u7528\u6620\u5C04\u578B\u5C31\u66F4\u4E0D\u7528\u8BF4\u4E86\uFF0C\u5982\u679C\u4F60\u521B\u5EFA\u4E00\u4E2Aservlet\uFF0C\u90A3\u5176classLoader\u5FC5\u5B9A\u548C\u6253\u5165\u7684TemplatesImpl$TransletClassLoader\u4E0D\u540C\u3002\u4E5F\u5C31\u662F\u8BF4\u53EA\u80FD\u7528\u901A\u7528\u578B\u56DE\u663E\uFF0C\u4E0D\u80FD\u53BB\u521B\u5EFA\u53E6\u4E00\u4E2Aurl-pattern\u6620\u5C04\u3002 \u53C8\u56E0\u4E3A\u52A8\u6001\u94FE\u63A5\u5E93\u53EA\u80FD\u88AB\u4E00\u4E2AClassLoader\u52A0\u8F7D\uFF0C\u5982\u679C\u88AB\u4E0D\u540C\u7684ClassLoader\u52A0\u8F7D\uFF0C\u5219\u4F1A\u62A5already be loaded by another loader \u7EFC\u4E0A\u5C31\u662F\uFF0C\u5185\u5B58\u9A6C\u56DE\u663E\u7684\u5F62\u5F0F\uFF0C\u7528JNI\u7684\u65B9\u5F0F\u53EA\u80FD\u6253\u4E00\u6B21\uFF0C\u4E00\u6B21\u5373\u5931\u6548\u3002\u8FD9\u4E00\u5207\u90FD\u662FTomcat\u6253\u7834\u53CC\u4EB2\u59D4\u6D3E\u5E26\u6765\u7684\u9505 \u5982\u679C\u80FD\u627E\u5230\u5728Tomcat\u4E0B\u8C03\u7528AppClassLoader\u53BB\u52A0\u8F7D\u52A8\u6001\u94FE\u63A5\u5E93\uFF0C\u5219\u80FD\u505A\u5230\u5168\u5C40\u53EF\u7528\u3002\u53EF\u662F\u6211\u7684\u786E\u6CA1\u627E\u5230\u4E00\u4E2A\u597D\u7684\u529E\u6CD5\uFF0C\u53CD\u5C04\u8C03\u7528ClassLoader.loadLibary\u65F6\u6307\u5B9Avar0.getClassLoader\u4E5F\u6CA1\u627E\u5230\u5408\u9002\u7684var0 \u56DE\u663E\u4E00\u6B21\u7684\u811A\u672C\u653E\u5728\u4E86github\uFF0C\u5982\u679C\u6709\u5E08\u5085\u611F\u5174\u8DA3\u5E0C\u671B\u80FD\u7ED9\u4E00\u4E2A\u901A\u7528\u7684jni\u5185\u5B58\u9A6C\u{1F62D} [TomcatMemshell/src/main/java/org/example/tomcatmem...](https://github.com/godownio/TomcatMemshell/blob/master/src/main/java/org/example/tomcatmemshell/JNI/JNIMemShell.java)

...

\u5C55\u5F00\u5168\u90E8

[](https://images.zsxq.com/Fk_kGpjI86rQ30c9H82NDp2AYQFe?imageMogr2/auto-orient/thumbnail/380x/format/jpg/blur/1x0/quality/75&e=1746028799&s=vtmmymyjtyymvjy&token=kIxbL07-8jAj8w1n4s9zv64FuZZNEATmlU_Vm6zD:xArz-bE9Gsk6r94UYnJDJRWlZfY=)

[](https://images.zsxq.com/Fn8YgSlH19kPe3RtVBD-kPqZAKge?imageMogr2/auto-orient/thumbnail/380x/format/jpg/blur/1x0/quality/75&e=1746028799&s=vtmmymyjtyymvjy&token=kIxbL07-8jAj8w1n4s9zv64FuZZNEATmlU_Vm6zD:T3dHOps65jRbp8efuerenlmVq7s=)`;export{a as _};
